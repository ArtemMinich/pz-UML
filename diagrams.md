# UML-діаграми: Система онлайн-замовлення їжі (FoodDelivery)

## Опис предметної області

Система дозволяє клієнту переглядати меню ресторанів, оформлювати замовлення, здійснювати оплату та отримувати доставку. У системі взаємодіють чотири основні актори: **Клієнт**, **Ресторан**, **Кур'єр** та **Платіжна система**.

---

## 1. Діаграма варіантів використання (Use Case Diagram)

Діаграма показує, які функції системи доступні кожному актору та як вони пов'язані між собою.

```mermaid
flowchart LR
    subgraph actors_left [" "]
        Client(("Клієнт"))
    end

    subgraph system ["Система FoodDelivery"]
        UC1["Переглянути меню"]
        UC2["Оформити замовлення"]
        UC3["Оплатити замовлення"]
        UC4["Відстежити доставку"]
        UC5["Залишити відгук"]
        UC6["Прийняти замовлення"]
        UC7["Оновити статус приготування"]
        UC8["Прийняти доставку"]
        UC9["Підтвердити доставку"]
        UC10["Обробити платіж"]
    end

    subgraph actors_right [" "]
        Restaurant(("Ресторан"))
        Courier(("Кур'єр"))
        Payment(("Платіжна система"))
    end

    Client --- UC1
    Client --- UC2
    Client --- UC3
    Client --- UC4
    Client --- UC5

    UC6 --- Restaurant
    UC7 --- Restaurant

    UC8 --- Courier
    UC9 --- Courier

    UC10 --- Payment

    UC3 -.->|"&laquo;include&raquo;"| UC10
    UC2 -.->|"&laquo;extend&raquo;"| UC5

    style actors_left fill:none,stroke:none
    style actors_right fill:none,stroke:none
```

**Пояснення:**
- **Клієнт** — основний користувач, який переглядає меню, замовляє, платить, відстежує доставку та залишає відгуки.
- **Ресторан** — приймає замовлення та оновлює статус приготування.
- **Кур'єр** — приймає та підтверджує доставку.
- **Платіжна система** — обробляє платежі (включена в оплату через `<<include>>`).
- Відгук є розширенням (`<<extend>>`) оформлення замовлення — необов'язкова дія.

---

## 2. Діаграма послідовності (Sequence Diagram)

Діаграма показує хронологічну послідовність взаємодій між акторами під час оформлення та доставки замовлення.

```mermaid
sequenceDiagram
    actor Client as Клієнт
    participant App as Додаток
    participant Restaurant as Ресторан
    participant PaySys as Платіжна система
    actor Courier as Кур'єр

    Client->>App: Відкрити меню ресторану
    App-->>Client: Показати список страв

    Client->>App: Додати страви до кошика
    Client->>App: Оформити замовлення

    App->>PaySys: Запит на оплату
    PaySys-->>App: Підтвердження оплати
    App-->>Client: Замовлення оплачено

    App->>Restaurant: Нове замовлення
    Restaurant-->>App: Замовлення прийнято

    Note over Restaurant: Приготування їжі

    Restaurant->>App: Замовлення готове
    App->>Courier: Запит на доставку
    Courier-->>App: Доставку прийнято

    Note over Courier: Доставка клієнту

    Courier->>App: Замовлення доставлено
    App-->>Client: Підтвердження доставки

    Client->>App: Залишити відгук
    App-->>Client: Відгук збережено
```

**Пояснення:**
- Суцільні стрілки (`->>`) — запити (синхронні повідомлення).
- Пунктирні стрілки (`-->>`) — відповіді.
- `Note` — коментар, що позначає процес, який відбувається на стороні актора (приготування, доставка).
- Діаграма демонструє повний lifecycle замовлення від перегляду меню до отримання відгуку.

---

## 3. Діаграма діяльності (Activity Diagram)

Діаграма відображає потік дій у процесі замовлення з точками розгалуження та паралельними процесами.

```mermaid
flowchart TD
    Start(["▶ Початок"])
    Start --> A["Клієнт відкриває додаток"]
    A --> B["Перегляд меню ресторану"]
    B --> C["Додавання страв до кошика"]
    C --> D{"Кошик не порожній?"}
    D -- Ні --> B
    D -- Так --> E["Оформлення замовлення"]
    E --> F["Запит оплати"]
    F --> G{"Оплата успішна?"}
    G -- Ні --> H["Повідомлення про помилку"]
    H --> F
    G -- Так --> I["Замовлення передано ресторану"]

    I --> J{"Ресторан приймає?"}
    J -- Ні --> K["Повернення коштів"]
    K --> End1(["⏹ Кінець"])
    J -- Так --> L["Приготування замовлення"]

    L --> M["Замовлення готове"]
    M --> N["Призначення кур'єра"]
    N --> O["Кур'єр забирає замовлення"]
    O --> P["Доставка клієнту"]
    P --> Q{"Клієнт підтвердив\nотримання?"}
    Q -- Ні --> R["Зв'язок з підтримкою"]
    R --> End2(["⏹ Кінець"])
    Q -- Так --> S["Замовлення завершено"]
    S --> T{"Залишити відгук?"}
    T -- Так --> U["Написання відгуку"]
    U --> End3(["⏹ Кінець"])
    T -- Ні --> End3
```

**Пояснення:**
- **Ромби** (`{ }`) — точки розгалуження (decision nodes), де потік залежить від умови.
- **Прямокутники** (`[ ]`) — дії (activity nodes).
- **Округлені** (`([ ])`) — початок/кінець процесу.
- Діаграма охоплює всі можливі шляхи: успішне замовлення, помилку оплати, відмову ресторану, проблему з доставкою.

---

## Зв'язок між діаграмами

| Аспект | Use Case | Sequence | Activity |
|---|---|---|---|
| **Що показує** | Хто і що робить | Як взаємодіють у часі | Потік дій та рішень |
| **Фокус** | Функціональні вимоги | Обмін повідомленнями | Бізнес-процес |
| **Рівень деталізації** | Високий (загальний) | Середній (один сценарій) | Детальний (всі шляхи) |

Усі три діаграми описують **один і той самий процес** — замовлення їжі через додаток — але з різних точок зору, що дає повне розуміння системи.
